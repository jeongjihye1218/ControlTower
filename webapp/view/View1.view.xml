<mvc:View controllerName="ControlTower.controller.View1"
xmlns:html="http://www.w3.org/1999/xhtml" 
xmlns:mvc="sap.ui.core.mvc"
xmlns="sap.m"
xmlns:core="sap.ui.core" 
xmlns:sfb="sap.ui.comp.smartfilterbar" 
xmlns:smartTable="sap.ui.comp.smarttable" 
xmlns:vh="sap.ui.comp.valuehelpdialog" 
displayBlock="true" >
	<App id ="app"> 
		<pages>
			<Page title="Control Tower">
				<content>
				<!--	<sfb:SmartFilterBar reset="onReset" search="onSerch" showRestoreButton="true" showClearButton="true"-->
				<!--		id="smartFilterBar"-->
				<!--		entitySet="TpmShplSecAccGrpSet"-->
				<!--		enableBasicSearch="true"-->
				<!--		basicSearchFieldName="CompanyCode"-->
				<!--		showFilterConfiguration="true"-->
				<!--	>-->
				<!--	<sfb:controlConfiguration>-->
				<!--		<sfb:ControlConfiguration-->
				<!--			key="CompanyCode" index="1" groupId="_BASIC" width="300px" -->
				<!--			visibleInAdvancedArea="true">-->
				<!--		</sfb:ControlConfiguration>-->
				<!--	</sfb:controlConfiguration>-->
				<!--</sfb:SmartFilterBar>-->
				<!---->
				<sfb:SmartFilterBar reset="onReset" search="onSerch" showRestoreButton="true" showClearButton="true" id="smartFilterBar" entitySet="ZPaymentSelSet">
					<sfb:controlConfiguration>
						<sfb:ControlConfiguration id="productGbn" key="ProductGbn" index="1" visibleInAdvancedArea="true">
							<sfb:customControl>
								<MultiComboBox id="ProductGbn" selectionChange="onComboBoxChange" items="{path: '/Zcfm_ct_product_classSet',templateShareable:false}">
								<!--<MultiComboBox id="multiComboBox" selectionChange="onComboBoxChange" items="{path: '/Zcfm_ct_product_classSet'}">-->
									<core:Item key="{Code}" text="{Text}"/>
									<!--<core:Item key="1" text="채권"/>-->
									<!--<core:Item key="2" text="주식"/>-->
									<!--<core:Item key="3" text="수익증권"/>-->
									<!--<core:Item key="4" text="현금자산"/>-->
									<!--<core:Item key="5" text="SWAP"/>-->
									<!--<core:Item key="6" text="FX"/>-->
									<!--<core:Item key="7" text="대출"/>-->
									<!--<core:Item key="8" text="장내파생"/>-->
									<!--<core:Item key="9" text="발행사채"/>-->
								</MultiComboBox>
							</sfb:customControl>
						</sfb:ControlConfiguration>

						<sfb:ControlConfiguration id="bdate" key="Bdate" index="2" visibleInAdvancedArea="true">
							<sfb:customControl>
								<DatePicker id="Bdate" valueFormat="yyyy-MM-dd"/>
							</sfb:customControl>
						</sfb:ControlConfiguration>
						
						<sfb:ControlConfiguration id="hasValueHelpDialog" key="Kontrh" index="3" visibleInAdvancedArea="true">
							<!--<sfb:customControl>-->
							<!--	<MultiInput id="mKontrh" showValueHelp="true" valueHelpRequest="onVHKontrh">-->
							<!--	</MultiInput>-->
							<!--</sfb:customControl>-->
							
							 <!--<sfb:customData>-->
        <!--            			<core:CustomData key="hasValueHelpDialog" value="true"/>-->
        <!--        			</sfb:customData>-->
						</sfb:ControlConfiguration>
						
						
						<sfb:ControlConfiguration id="securityId" key="SecurityId" index="4" visibleInAdvancedArea="true">
							<!--<sfb:customControl>-->
								
							<!--</sfb:customControl>-->
						</sfb:ControlConfiguration>
						
						<sfb:ControlConfiguration id="securityAccountId" key="SecurityAccount" index="5" visibleInAdvancedArea="true"> 
						</sfb:ControlConfiguration>

						<sfb:ControlConfiguration id="rpotbId" key="Rportb" index="6" visibleInAdvancedArea="true"> 
						</sfb:ControlConfiguration>		

						<sfb:ControlConfiguration id="accountGroupId" key="AccountGroup" index="7" visibleInAdvancedArea="true"> 
						</sfb:ControlConfiguration>							

						<sfb:ControlConfiguration id="accountGbId" key="AccountGb" index="8" visibleInAdvancedArea="true">
							<sfb:customControl>
								<!--<MultiComboBox id="accountGbCombo" selectionChange="onComboBoxChange" items="{path: '/Zdcfmct_account_gbSet'}">-->
								<MultiComboBox id="AccountGb" selectionChange="onComboBoxChange" items="{path: '/Zdcfmct_account_gbSet',templateShareable:false}">
									<!--<core:Item key="1" text="일반"/>-->
									<!--<core:Item key="2" text="특별"/>-->
									<core:Item key="{Code}" text="{Text}"/>									
								</MultiComboBox>
							</sfb:customControl>
						</sfb:ControlConfiguration>						
				
						<sfb:ControlConfiguration id="domesticGbId" key="DomesticGb" index="9" visibleInAdvancedArea="true" >
							<sfb:customControl>
								<MultiComboBox id="DomesticGb" selectionChange="onComboBoxChange" items="{path: '/Zdcfmct_domestic_gbSet',templateShareable:false}">
								<!--<MultiComboBox id="domesticGbCombo" selectionChange="onComboBoxChange" items="{path: '/Zdcfmct_domestic_gbSet'}">-->
								<!--	<core:Item key="1" text="국내"/>-->
								<!--	<core:Item key="2" text="해외"/>-->
								<core:Item key="{Code}" text="{Text}"/>									
								</MultiComboBox>
							</sfb:customControl>
						</sfb:ControlConfiguration>	
						
					</sfb:controlConfiguration>
				</sfb:SmartFilterBar>
				
				
				
    <!-- Value Help Dialog 설정 -->
    <!--<vh:ValueHelpDialog-->
    <!--    id="valueHelpDialog"-->
    <!--    title="Select Value"-->
    <!--    supportRanges="true"-->
    <!--    supportRangesOnly="false"-->
    <!--    key="ID"-->
    <!--    descriptionKey="Name"-->
    <!--    ok="onValueHelpOk"-->
    <!--    cancel="onValueHelpCancel"-->
    <!--    afterClose="onValueHelpAfterClose">-->
    <!--</vh:ValueHelpDialog>				-->
    
				<!--initiallyVisibleFields="SecurityId"-->
				
				<!--<smartTable:SmartTable-->
				<!--id="smartTable_ResponsiveTable"-->
				<!--smartFilterId="smartFilterBar"-->
				<!--tableType="Table" editable="false"-->
				<!--entitySet="ZPaymentSelSet"-->
				<!--tableBindingPath="/ZPaymentSelSet"-->
				<!--useVariantManagement="true"-->
				<!--useTablePersonalisation="true" -->
				<!--useExportToExcel="true" header="전자결재 현황조회" showRowCount="true" enableAutoBinding="true"-->
				<!--initiallyVisibleFields="SecurityId" beforeRebindTable="onBeforeRebindTable">-->
					
				<!--	<smartTable:customToolbar>-->
    <!--					<Toolbar>-->
    <!--    					<ToolbarSpacer/>-->
    <!--    						<Button text="전자결재" press="onAddButton"/>-->
    <!--    						<Button text="전표발의" width="100px" id="__button1"/>-->

    <!--					<content/>-->
    <!--					</Toolbar>-->
    <!--				</smartTable:customToolbar>-->
				<!--</smartTable:SmartTable>-->
				
				<smartTable:SmartTable
										id="smartTable01"
										entitySet="ZPaymentSelSet"
										header="전자결재 현황조회"
										useTablePersonalisation="true"
										enableAutoBinding="true"
										useExportToExcel="true"
										demandPopin="true"
										showRowCount="true"
										tableType="ResponsiveTable"
										smartFilterId="smartFilterBar"
										persistencyKey="smartExplored"
										requestAtLeastFields="Bdate,ProductGbnTxt,DepartNm,RanlTxt,DealNumber,Units,LocalAmt,ApprstcdTxt,Apprid"
										dataReceived="onTableReceived"
										beforeRebindTable="onBeforeRebindTable"
										>
					<smartTable:customToolbar>
    					<Toolbar>
        					<ToolbarSpacer/>
        						<Button text="전자결재" press="onAddButton"/>
        						<Button text="전표발의" width="100px" id="__button1" press="onDocButton"/>
        						<Button text="확정" press="onConfButton" />

    					<content/>
    					</Toolbar>
    				</smartTable:customToolbar>
					<Table mode="SingleSelectLeft" selectionChange="onSelectionChange">
						<columns>
							<Column>							
								<Text text="포지션일자"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "Bdate", "leadingProperty": "Bdate"}'/>
                				</customData>
							</Column>								
							<Column>
								<Text text="상품구분"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "ProductGbnTxt", "leadingProperty": "ProductGbnTxt"}'/>
                				</customData>
							</Column>				
							<Column>							
								<Text text="운용부서"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "DepartNm", "leadingProperty": "DepartNm"}'/>
                				</customData>
							</Column>
							<Column>							
								<Text text="종목명"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "RanlTxt", "leadingProperty": "RanlTxt"}'/>
                				</customData>
							</Column>
							<Column>							
								<Text text="거래번호"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "DealNumber", "leadingProperty": "DealNumber"}'/>
                				</customData>
							</Column>	
							<Column>							
								<Text text="수량"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "Units", "leadingProperty": "Units"}'/>
                				</customData>
							</Column>			
							<Column>							
								<Text text="금액"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "LocalAmt", "leadingProperty": "LocalAmt"}'/>
                				</customData>
							</Column>		
							<!--<Column>							-->
							<!--	<Text text="거래상태"/>-->
							<!--	<customData>-->
       <!--             				<core:CustomData key="p13nData" value='\{"columnKey": "ProcessTxt", "leadingProperty": "ProcessTxt"}'/>-->
       <!--         				</customData>-->
							<!--</Column>			-->
							<Column>							
								<Text text="결재상태"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "ApprstcdTxt", "leadingProperty": "ApprstcdTxt"}'/>
                				</customData>
							</Column>								
							<Column>							
								<Text text="종목ID"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "SecurityId", "leadingProperty": "SecurityId"}'/>
                				</customData>
							</Column>	
							<Column>							
								<Text text="결재ID"/>
								<customData>
                    				<core:CustomData key="p13nData" value='\{"columnKey": "Apprid", "leadingProperty": "Apprid"}'/>
                				</customData>
							</Column>
						</columns>
						<items>
							<ColumnListItem type="Navigation">
								<cells>
									<Text text="{Bdate}"/>									
									<Text text="{ProductGbnTxt}"/>
									<Text text="{DepartNm}"/>
									<Text text="{RanlTxt}"/>
									<Link text="{DealNumber}" emphasized="true" subtle="true" press="onPressLink"/>									
									<Text text="{Units}"/>
									<Text text="{LocalAmt}"/>
									<!--<Text text="{ProcessTxt}"/>-->
									<Text text="{ApprstcdTxt}"/>
									<Text text="{SecurityId}"/>
									<Text text="{Apprid}"/>
								</cells>
							</ColumnListItem>
						</items>
					</Table>
				</smartTable:SmartTable>				
			

    <Dialog
        id="ConfnDialogId" 
        title="Confirm">
    	
            <Text text="Do you want to approve this row?" /> 

        <beginButton>
            <Button text="OK" press="onConfirmOk"/> <!-- 'onConfirmOk' 메서드 사용 -->
        </beginButton>    
        <endButton>
            <Button text="Cancel" press="onConfirmCanc"/> <!-- 'onConfirmCanc' 메서드 사용 -->
        </endButton>   
    </Dialog>
				

				</content>
			</Page>
		</pages>
	</App>
</mvc:View>